(this.webpackJsonpmarit=this.webpackJsonpmarit||[]).push([[0],{22:function(e,t,n){e.exports={homeContainer:"HomePage_homeContainer__b99X2"}},33:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(0),i=n(13),r=n.n(i),a=(n(33),n(26)),o=n(3),u=n(22),l=n.n(u),h=n(10),d=n(8),b=n.n(d),_=function(e){var t=e.race,n=e.image;return Object(s.jsxs)("div",{className:b.a.container,children:[!!t.length&&n&&Object(s.jsxs)("div",{className:b.a.head,children:[Object(s.jsx)("h1",{children:"".concat(t[0].race,"s")}),Object(s.jsx)("img",{src:n,alt:""})]}),!!t.length&&t.map((function(e){return Object(s.jsxs)("div",{className:b.a.itemContainer,children:[Object(s.jsx)("span",{children:e.name}),Object(s.jsxs)("div",{className:b.a.buttons,children:[Object(s.jsx)("button",{className:b.a.change,children:"Change name"}),Object(s.jsx)("button",{className:b.a.delete,children:"Delete"})]})]},e.id)})),Object(s.jsx)("button",{className:b.a.add,children:"+ Add"})]})},j=n.p+"static/media/aragorn.cb820518.png",m=n.p+"static/media/legolas.2bbb9ab4.png",f=n.p+"static/media/frodo.a37e041a.png",g=n.p+"static/media/gimli.a99a7c01.png",p=function(){var e=Object(h.c)((function(e){return e.heroes.heroes})),t=e.filter((function(e){return"Elf"===e.race})),n=e.filter((function(e){return"Dworf"===e.race})),c=e.filter((function(e){return"Human"===e.race})),i=e.filter((function(e){return"Hobbit"===e.race}));return Object(s.jsx)("div",{className:l.a.homeContainer,children:e.length?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_,{race:t,image:m}),Object(s.jsx)(_,{race:n,image:g}),Object(s.jsx)(_,{race:c,image:j}),Object(s.jsx)(_,{race:i,image:f})]}):"Loading..."})},O=n(20),v=n(24),x=n(25),w=new(function(){function e(t,n){Object(v.a)(this,e),this._url="ws://".concat(t,":").concat(n),this._subscribers=[],this._messageHandler=this._messageHandler.bind(this),this._openHandler=this._openHandler.bind(this),this._reconnect=this._reconnect.bind(this)}return Object(x.a)(e,[{key:"connect",value:function(){this._ws=new WebSocket(this._url),this._ws.onopen=this._openHandler,this._ws.onmessage=this._messageHandler,this._ws.onclose=this._reconnect}},{key:"disconnect",value:function(){this._ws&&(this._ws.removeEventListener("message",this._messageHandler),this._ws.removeEventListener("open",this._openHandler),this._ws.removeEventListener("close",this._reconnect),this._ws.close(),this._ws=null,console.log("ws closed"))}},{key:"_messageHandler",value:function(e){var t=JSON.parse(e.data);this._subscribers.forEach((function(e){return e(t)}))}},{key:"_openHandler",value:function(){console.log("ws open"),this._ws.send({cmd:"get_list"})}},{key:"subscribe",value:function(e){var t=this;return this._subscribers.push(e),function(){return t._subscribers=t._subscribers.filter((function(t){return t!==e}))}}},{key:"_reconnect",value:function(){var e=this;return setTimeout((function(){console.log("reconnect"),e.disconnect(),e.connect()}),3e3)}}]),e}())("testapi.marit.expert","3004");w.connect();var E=w,H="APP/HEROES_REDUCER/RECEIVE_HEROES",R={heroes:[]},y=null,L=function(){return function(e){y=E.subscribe((function(t){e(function(e){return{type:H,payload:e}}(t))}))}},C=function(){var e=Object(h.b)();return Object(c.useEffect)((function(){return e(void E.connect()),e(L()),function(){return e((function(e){y&&(y(),y=null),E.disconnect()}))}}),[e]),Object(s.jsx)(a.a,{children:Object(s.jsx)("div",{className:"app",children:Object(s.jsx)(o.a,{path:"/",render:function(){return Object(s.jsx)(p,{})}})})})},N=n(11),k=n(27),P=Object(N.c)({heroes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(O.a)(Object(O.a)({},e),{},{heroes:t.payload});default:return e}}}),S=Object(N.d)(P,Object(N.a)(k.a));r.a.render(Object(s.jsx)(h.a,{store:S,children:Object(s.jsx)(C,{})}),document.getElementById("root"))},8:function(e,t,n){e.exports={container:"RaceList_container__3RvWr",head:"RaceList_head__1wEyX",itemContainer:"RaceList_itemContainer__Px3Lr",buttons:"RaceList_buttons__1xGe_",change:"RaceList_change__3Ci6Q",delete:"RaceList_delete__2l8b4",add:"RaceList_add__3_ACR"}}},[[39,1,2]]]);
//# sourceMappingURL=main.64067ad2.chunk.js.map